version: '2'
services:
    nodejs:
        restart: always
        build:
            context: .
        volumes:
            - ../:/usr/src/app
        networks:
            - docker_appnet
        #command: sh start.sh
        entrypoint:
            - sh
            - start.sh
            - -e
            - npm=true
        # enable for local testing without docker proxy
        # ports:
        #     - "8080:8080"
# used for interal communication within docker
networks:
    docker_appnet:
        external: true
